<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">
<head>
	<meta charset="utf-8">
</head>
<body>
	<!-- ------- -->
	<!-- WELCOME -->
	<!-- ------- -->
	<div th:fragment="welcome" id="welcome" class="welcome">
		<h1 class="title">[[#{welcome.title}]]</h1>
		<div class="text">
			[(${welcome})]
		</div>
	</div>


	<!-- ----- -->
	<!-- PARTY -->
	<!-- ----- -->
	<div th:fragment="party" id="party" class="party">
		<h1 class="title">[[#{party.title}]]</h1>
		<!-- Characters -->
		<div th:each="character : ${party.characters}" th:object="${character}" class="character" th:id="|character_*{nameId}|">
			<!-- Title -->
			<h2 class="title">[[*{name}]]</h2>

			<!-- Mat -->
			<div class="mat flip">
				<div class="flipInner">
					<div class="front">
						<img th:src="@{/img/characters/__*{nameId}__.png}">
					</div>
					<div class="back">
						<img th:src="@{/img/characters/__*{nameId}___back.png}">
					</div>
				</div>
			</div>

			<!-- Background -->
			<div th:if="*{background}" class="background">
				[(*{background})]
			</div>

			<!-- Personal quest -->
			<div th:if="*{personalQuest}" class="personalQuest fhCard flip">
				<div class="flipInner">
					<div class="front">
						<img th:src="@{/img/personalQuests/back.png}">
					</div>
					<div class="back">
						<img th:src="@{/img/personalQuests/__*{personalQuest}__.png}">
					</div>
				</div>
			</div>
		</div>
	</div>


	<!-- ----------- -->
	<!-- UNLOCKED BY -->
	<!-- ----------- -->
	<div th:fragment="unlockedBy(unlockedBy)" th:object="${unlockedBy}" class="unlockedBy">
		<i class="fa-solid fa-unlock me-1"></i> Unlocked by:
		<a th:if="*{scenario}" th:with="scenarioId = ${#numbers.formatInteger(unlockedBy.scenario,1)}"
		   class="link-secondary" th:href="|#scenario_${scenarioId}|">
			Scenario [[${scenarioId}]]
		</a>
		<a th:if="*{event}" class="link-secondary" th:href="|#event_*{event}|">
			Event [[*{event}]]
		</a>
	</div>


	<!-- ------------------- -->
	<!-- IMPORT/EXPORT MODAL -->
	<!-- ------------------- -->
	<div th:fragment="importExportModal" id="importExportModal" class="modal fade" tabindex="-1">
		<div class="modal-dialog modal-lg">
			<div class="modal-content">
				<div class="modal-header">
					<h1 class="modal-title fs-5">Import/export campaign content</h1>
					<button type="button" class="btn-close" data-bs-dismiss="modal"></button>			
				</div>
				<div class="modal-body">
					<textarea class="form-control"></textarea>
				</div>
				<div class="modal-footer">
					<button type="button" class="btn btn-primary">Import</button>
				</div>
			</div>
		</div>
	</div>
</body>
</html>